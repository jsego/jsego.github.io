function log_download(n,e){console.log("logging");$.ajax({type:"POST",url:server+"/log",data:{type:"download",bibbaseid:n,url:e},dataType:"json"}).done(function(){console.log("logged",ga),ga("send","event","publications","download",n,{hitCallback:function(){document.location=e}}),setTimeout(function(){document.location=e},500)})}function log_buy(n,e){ga("send","event","publications","buy",n,{hitCallback:function(){document.location=e}}),setTimeout(function(){document.location=e},500)}function log_send(n,e){server=server||"";$.ajax({type:"POST",url:server+"/log",data:n,dataType:"json"}).done(e)}function loadBootstrap(n){for(var e="function"==typeof $.fn.modal,t=0;t<document.scripts.length;t++)if(document.scripts[t].src.indexOf("/bootstrap.")>=0){e=!0;break}e?(console.log("(BibBase) Looks like you already have bootstrap. Using that. If things don't work quite right, try to remove your own bootstrap js/css and see whether that fixes things."),n()):(loadcss(server+"/css/bootstrap.min.css"),$.getScript(server+"/js/bootstrap.min.js",n))}function loadcss(n,e){document.createStyleSheet?document.createStyleSheet(n):(e=e||"prepend",$("head")[e]($("<link rel='stylesheet' href='"+n+"' type='text/css' media='screen' />")))}function gatherHTML(){var n={};$(".bibbase_paper").each(function(e,t){n[t.id]=t.innerHTML});for(var e in bibbase.data){var t=bibbase.data[e];t.html=n[t.bibbaseid]}}function markRead(){bibbase&&bibbase.read&&($(".read").removeClass("hasread"),bibbase.read.forEach(function(n){$("#"+n.bibbaseid+" .read").addClass("hasread")}))}this.Handlebars=function(){var n=function(){"use strict";function n(n){this.string=n}return n.prototype.toString=function(){return""+this.string},n}(),e=function(e){"use strict";function t(n){return i[n]||"&amp;"}var a={},r=n,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=/[&<>"'`]/g,o=/[&<>"'`]/;a.extend=function(n){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&(n[t]=arguments[e][t]);return n};var l=Object.prototype.toString;a.toString=l;(c=function(n){return"function"==typeof n})(/x/)&&(c=function(n){return"function"==typeof n&&"[object Function]"===l.call(n)});var c;a.isFunction=c;var u=Array.isArray||function(n){return!(!n||"object"!=typeof n)&&"[object Array]"===l.call(n)};return a.isArray=u,a.escapeExpression=function(n){return n instanceof r?n.toString():n||0===n?(n=""+n,o.test(n)?n.replace(s,t):n):""},a.isEmpty=function(n){return!n&&0!==n||!(!u(n)||0!==n.length)},a.appendContextPath=function(n,e){return(n?n+".":"")+e},a}(),t=function(){"use strict";function n(n,t){var a;t&&t.firstLine&&(n+=" - "+(a=t.firstLine)+":"+t.firstColumn);for(var r=Error.prototype.constructor.call(this,n),i=0;i<e.length;i++)this[e[i]]=r[e[i]];a&&(this.lineNumber=a,this.column=t.firstColumn)}var e=["description","fileName","lineNumber","message","name","number","stack"];return n.prototype=new Error,n}(),a=function(n,a){"use strict";function r(n,e){this.helpers=n||{},this.partials=e||{},function(n){n.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new l("Missing helper: '"+arguments[arguments.length-1].name+"'")}),n.registerHelper("blockHelperMissing",function(e,t){var a=t.inverse||function(){},r=t.fn;if(u(e)&&(e=e.call(this)),!0===e)return r(this);if(!1===e||null==e)return a(this);if(c(e))return e.length>0?(t.ids&&(t.ids=[t.name]),n.helpers.each(e,t)):a(this);if(t.data&&t.ids){var i=h(t.data);i.contextPath=o.appendContextPath(t.data.contextPath,t.name),t={data:i}}return r(e,t)}),n.registerHelper("each",function(n,e){e||(e=n,n=this);var t,a,r=e.fn,i=e.inverse,s=0,l="";if(e.data&&e.ids&&(a=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),u(n)&&(n=n.call(this)),e.data&&(t=h(e.data)),n&&"object"==typeof n)if(c(n))for(var p=n.length;s<p;s++)t&&(t.index=s,t.first=0===s,t.last=s===n.length-1,a&&(t.contextPath=a+s)),l+=r(n[s],{data:t});else for(var f in n)n.hasOwnProperty(f)&&(t&&(t.key=f,t.index=s,t.first=0===s,a&&(t.contextPath=a+f)),l+=r(n[f],{data:t}),s++);return 0===s&&(l=i(this)),l}),n.registerHelper("if",function(n,e){return u(n)&&(n=n.call(this)),!e.hash.includeZero&&!n||o.isEmpty(n)?e.inverse(this):e.fn(this)}),n.registerHelper("unless",function(e,t){return n.helpers.if.call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})}),n.registerHelper("with",function(n,e){u(n)&&(n=n.call(this));var t=e.fn;if(!o.isEmpty(n)){if(e.data&&e.ids){var a=h(e.data);a.contextPath=o.appendContextPath(e.data.contextPath,e.ids[0]),e={data:a}}return t(n,e)}}),n.registerHelper("log",function(e,t){var a=t.data&&null!=t.data.level?parseInt(t.data.level,10):1;n.log(a,e)}),n.registerHelper("lookup",function(n,e,t){return n&&n[e]})}(this)}function i(n,e){f.log(n,e)}var s={},o=e,l=t;s.VERSION="2.0.0-alpha.2";s.COMPILER_REVISION=5;s.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:">= 2.0.0"};var c=o.isArray,u=o.isFunction,p=o.toString;s.HandlebarsEnvironment=r,r.prototype={constructor:r,logger:f,log:i,registerHelper:function(n,e,t){if("[object Object]"===p.call(n)){if(t||e)throw new l("Arg not supported with multiple helpers");o.extend(this.helpers,n)}else t&&(e.not=t),this.helpers[n]=e},unregisterHelper:function(n){delete this.helpers[n]},registerPartial:function(n,e){"[object Object]"===p.call(n)?o.extend(this.partials,n):this.partials[n]=e},unregisterPartial:function(n){delete this.partials[n]}};var f={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(n,e){if(f.level<=n){var t=f.methodMap[n];"undefined"!=typeof console&&console[t]&&console[t].call(console,e)}}};s.logger=f,s.log=i;var h=function(n){var e=o.extend({},n);return e._parent=n,e};return s.createFrame=h,s}(),r=function(n,a,r){"use strict";function i(n,e,t,a){var r=function(e,r){return r=r||{},t.call(n,e,n.helpers,n.partials,r.data||a)};return r.program=e,r.depth=0,r}var s={},o=e,l=t,c=r.COMPILER_REVISION,u=r.REVISION_CHANGES,p=r.createFrame;return s.checkRevision=function(n){var e=n&&n[0]||1,t=c;if(e!==t){if(e<t){var a=u[t],r=u[e];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+a+") or downgrade your runtime to an older version ("+r+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+n[1]+").")}},s.template=function(n,e){if(!e)throw new l("No environment passed to template");e.VM.checkRevision(n.compiler);var t={escapeExpression:o.escapeExpression,invokePartial:function(n,t,a,r,i,s,c){r&&(a=o.extend({},a,r));var u=e.VM.invokePartial.call(this,n,t,a,i,s,c);if(null!=u)return u;if(e.compile){var p={helpers:i,partials:s,data:c};return s[t]=e.compile(n,{data:void 0!==c},e),s[t](a,p)}throw new l("The partial "+t+" could not be compiled when running in runtime-only mode")},fn:function(e){return n[e]},programs:[],program:function(n,e){var t=this.programs[n],a=this.fn(n);return e?t=i(this,n,a,e):t||(t=this.programs[n]=i(this,n,a)),t},programWithDepth:e.VM.programWithDepth,initData:function(n,e){return e&&"root"in e||((e=e?p(e):{}).root=n),e},data:function(n,e){for(;n&&e--;)n=n._parent;return n},merge:function(n,e){var t=n||e;return n&&e&&n!==e&&(t=o.extend({},e,n)),t},noop:e.VM.noop,compilerInfo:n.compiler},a=function(a,r){var i,s,o=(r=r||{}).partial?r:e,l=r.data;return r.partial?(i=t.helpers=r.helpers,s=t.partials=r.partials):(i=t.helpers=t.merge(r.helpers,o.helpers),n.usePartial&&(s=t.partials=t.merge(r.partials,o.partials)),n.useData&&(l=t.initData(a,l))),n.main.call(t,a,i,s,l)};return a.child=function(n){return t.programWithDepth(n)},a},s.programWithDepth=function(n,e){var t=Array.prototype.slice.call(arguments,2),a=this,r=a.fn(n),i=function(n,i){return i=i||{},r.apply(a,[n,a.helpers,a.partials,i.data||e].concat(t))};return i.program=n,i.depth=t.length,i},s.program=i,s.invokePartial=function(n,e,t,a,r,i){var s={partial:!0,helpers:a,partials:r,data:i};if(void 0===n)throw new l("The partial "+e+" could not be found");if(n instanceof Function)return n(t,s)},s.noop=function(){return""},s}(0,0,a);return function(i,s,o,l,c){"use strict";var u=a,p=n,f=t,h=e,d=r,b=function(){var n=new u.HandlebarsEnvironment;return h.extend(n,u),n.SafeString=p,n.Exception=f,n.Utils=h,n.VM=d,n.template=function(e){return d.template(e,n)},n},m=b();return m.create=b,m}()}(),function(){var n=Handlebars.template,e=Handlebars.templates=Handlebars.templates||{};e.amazon=n({compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i=this.escapeExpression;return'&nbsp;\n<span class="bibbase_amazon">\n  <a href="http://www.amazon.com/s/?url=search-alias=aps&amp;field-keywords='+i("function"==typeof(r=e.amazon_string||n&&n.amazon_string)?r.call(n,{name:"amazon_string",hash:{},data:a}):r)+'&amp;tag=bib0d-20&amp;link_code=wql&amp;_encoding=UTF-8"\n     onclick="log_buy(\''+i("function"==typeof(r=e.bibbaseid||n&&n.bibbaseid)?r.call(n,{name:"bibbaseid",hash:{},data:a}):r)+"', 'http://www.amazon.com/s/?url=search-alias=aps&amp;field-keywords="+i("function"==typeof(r=e.amazon_string||n&&n.amazon_string)?r.call(n,{name:"amazon_string",hash:{},data:a}):r)+'&amp;tag=bib0d-20&amp;link_code=wql&amp;_encoding=UTF-8\'); return false;"\n     class="bibbase link"\n     target="_blank">\n    buy\n  </a>\n</span>\n'},useData:!0}),e.diff=n({1:function(n,e,t,a){var r,i="\n  ";return((r=e.each.call(n,n&&n.change,{name:"each",hash:{},fn:this.program(2,a),inverse:this.noop,data:a}))||0===r)&&(i+=r),i+"\n  "},2:function(n,e,t,a){var r,i,s=this.escapeExpression,o='\n  <pre style="\n\t      ';return((r=e.if.call(n,n&&n.added,{name:"if",hash:{},fn:this.program(3,a),inverse:this.program(5,a),data:a}))||0===r)&&(o+=r),o+'\n\t      ">'+s("function"==typeof(i=e.value||n&&n.value)?i.call(n,{name:"value",hash:{},data:a}):i)+"</pre>\n\n  "},3:function(n,e,t,a){return"\n\t      color: green\n\t      "},5:function(n,e,t,a){var r,i="\n\t      ";return((r=e.if.call(n,n&&n.removed,{name:"if",hash:{},fn:this.program(6,a),inverse:this.program(8,a),data:a}))||0===r)&&(i+=r),i+"\n\t      "},6:function(n,e,t,a){return"\n\t      color: red\n\t      "},8:function(n,e,t,a){return"\n\t      display: none\n\t      "},compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i,s=this.escapeExpression,o='\n<div class="'+s("function"==typeof(i=e.status||n&&n.status)?i.call(n,{name:"status",hash:{},data:a}):i)+'">\n\n  URL: '+s("function"==typeof(r=null==(r=n&&n.pair)||!1===r?r:r.a)?r.apply(n):r)+" <br/>\n\n  Status: "+s("function"==typeof(i=e.status||n&&n.status)?i.call(n,{name:"status",hash:{},data:a}):i)+" <br/>\n\n  ";return((r=e.if.call(n,n&&n.change,{name:"if",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}))||0===r)&&(o+=r),o+"\n</div>\n"},useData:!0}),e.email=n({compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i,s='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml">\n\n<head>\n    <meta content=\'text/html; charset=utf-8\' http-equiv=\'Content-Type\'>\n    <meta content=\'width=device-width, initial-scale=1.0\' name=\'viewport\'>\n    <title>BibBase: New Publications in your Feed</title>\n</head>\n\n<body>\n  \x3c!-- Won\'t work on gmail unless I use https (I think) --\x3e\n  \x3c!-- <img src="http://bibbase.org/img/logo.png" --\x3e\n  \x3c!--      style="float: right; height: 40px;"> --\x3e\n\n  New Items in your BibBase\n  <a href="http://bibbase.org/network/feed">Feed</a>:\n\n  <div style="clear: both">\n    ';return((r="function"==typeof(i=e.notifications||n&&n.notifications)?i.call(n,{name:"notifications",hash:{},data:a}):i)||0===r)&&(s+=r),s+'\n  </div>\n\n\n  <hr style="margin-top: 50px"/> \n  <div style="color: gray; font-size: 8px;">\n    To unsubscribe from these emails, please visit\n    your <a href="http://bibbase.org/network/feed">feed</a> and uncheck\n    "Send Daily Notifications".\n  </div>\n\n</body>\n</html>\n'},useData:!0}),e.email_paper=n({1:function(n,e,t,a){var r,i=e.helperMissing,s=", editor\n      ";return((r=(e.ifx||n&&n.ifx||i).call(n,"this[this.role+'_short'].length > 1",{name:"ifx",hash:{},fn:this.program(2,a),inverse:this.noop,data:a}))||0===r)&&(s+=r),s+".\n      "},2:function(n,e,t,a){return"s"},compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i,s=this.escapeExpression,o=e.helperMissing,l='\n\n<div class="bibbase_paper" id="'+s("function"==typeof(i=e.bibbaseid||n&&n.bibbaseid)?i.call(n,{name:"bibbaseid",hash:{},data:a}):i)+'"\n     style="padding: 10px;">\n  <span>\n    <b>\n      <a href="'+s("function"==typeof(i=e.host||n&&n.host)?i.call(n,{name:"host",hash:{},data:a}):i)+"network/publication/"+s("function"==typeof(i=e.bibbaseid||n&&n.bibbaseid)?i.call(n,{name:"bibbaseid",hash:{},data:a}):i)+'"\n         style="text-decoration: none; color: #000;">\n        '+s((i=e.formatTitle||n&&n.formatTitle||o).call(n,n&&n.title,{name:"formatTitle",hash:{},data:a}))+"\n      </a>\n    </b>\n    <span>\n      ";return((r=(i=e.getPerson||n&&n.getPerson||o).call(n,n&&n.role,n&&n.metadata,{name:"getPerson",hash:{},data:a}))||0===r)&&(l+=r),l+="\n      ",((r=(i=e.ifx||n&&n.ifx||o).call(n,"this.role == 'editor'",{name:"ifx",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}))||0===r)&&(l+=r),l+="\n    </span>\n  </span>\n\n  ",((r="function"==typeof(i=e.typeTemplate||n&&n.typeTemplate)?i.call(n,{name:"typeTemplate",hash:{},data:a}):i)||0===r)&&(l+=r),l+"\n\n</div>\n\n\n"},useData:!0}),e.email_response=n({compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i,s=this.escapeExpression,o='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml">\n\n<head>\n    <meta content=\'text/html; charset=utf-8\' http-equiv=\'Content-Type\'>\n    <meta content=\'width=device-width, initial-scale=1.0\' name=\'viewport\'>\n    <title>BibBase: New Response</title>\n</head>\n\n<body>\n  \x3c!-- Use nodemailer to attach logo to make this work  --\x3e\n  \x3c!-- <img src="cid:bibbase.png" style="float: right; height: 40px;"> --\x3e\n\n  A new response has been added to:\n  <div style="clear: both">\n    ';return((r="function"==typeof(i=e.paper||n&&n.paper)?i.call(n,{name:"paper",hash:{},data:a}):i)||0===r)&&(o+=r),o+='\n  </div>\n  <hr style="color: #999"/>\n\n  <img class="profile_pic"\n       style="width: 32px;"\n       src="'+s("function"==typeof(i=e.picture||n&&n.picture)?i.call(n,{name:"picture",hash:{},data:a}):i)+'" />\n  <a href="'+s("function"==typeof(i=e.userUrl||n&&n.userUrl)?i.call(n,{name:"userUrl",hash:{},data:a}):i)+'">\n    '+s("function"==typeof(i=e.username||n&&n.username)?i.call(n,{name:"username",hash:{},data:a}):i)+"\n  </a>, "+s("function"==typeof(i=e.date||n&&n.date)?i.call(n,{name:"date",hash:{},data:a}):i)+":\n\n  <p>\n    ",((r="function"==typeof(i=e.body||n&&n.body)?i.call(n,{name:"body",hash:{},data:a}):i)||0===r)&&(o+=r),o+'\n  </p>\n\n\n  <hr style="margin-top: 50px"/> \n  <div style="color: gray; font-size: 8px;">\n    To unsubscribe from these emails, please visit\n    <a href="http://bibbase.org/network/publication/'+s("function"==typeof(i=e.bibbaseid||n&&n.bibbaseid)?i.call(n,{name:"bibbaseid",hash:{},data:a}):i)+'">\n      the paper</a>\n    and unclick "Watching".\n  </div>\n\n</body>\n</html>\n'},useData:!0}),e.extras=n({1:function(n,e,t,a,r){var i,s,o=this.escapeExpression,l=e.helperMissing;return'\n  <a href="'+o("function"==typeof(s=e.value||n&&n.value)?s.call(n,{name:"value",hash:{},data:a}):s)+'"\n     onclick="log_download(\''+o("function"==typeof(i=r&&r.bibbaseid)?i.apply(n):i)+"', '"+o("function"==typeof(s=e.value||n&&n.value)?s.call(n,{name:"value",hash:{},data:a}):s)+'\'); return false;">\n    <img src="'+o("function"==typeof(i=r&&r.host)?i.apply(n):i)+"/img/filetypes/"+o((s=e.guessFiletype||n&&n.guessFiletype||l).call(n,n&&n.value,{name:"guessFiletype",hash:{},data:a}))+'.svg"\n\t     alt="'+o("function"==typeof(i=r&&r.title)?i.apply(n):i)+" ["+o((s=e.guessFiletype||n&&n.guessFiletype||l).call(n,n&&n.value,{name:"guessFiletype",hash:{},data:a}))+']"\n         title="'+o((s=e.guessFiletype||n&&n.guessFiletype||l).call(n,n&&n.value,{name:"guessFiletype",hash:{},data:a}))+'"\n\t     class="bibbase_icon"\n         ><span class="bibbase_icon_text">'+o("function"==typeof(s=e.key||n&&n.key)?s.call(n,{name:"key",hash:{},data:a}):s)+"</span></a>\n  &nbsp;\n  "},3:function(n,e,t,a,r){var i,s,o=this.escapeExpression;return'\n  <a href="http://doi.org/'+o("function"==typeof(s=e.doi||n&&n.doi)?s.call(n,{name:"doi",hash:{},data:a}):s)+'"\n     onclick="log_download(\''+o("function"==typeof(i=r&&r.bibbaseid)?i.apply(n):i)+"', 'http://doi.org/"+o("function"==typeof(s=e.doi||n&&n.doi)?s.call(n,{name:"doi",hash:{},data:a}):s)+'\'); return false;"\n     class="bibbase bibtex link">\n    <span>doi</span></a>\n  &nbsp;\n  '},5:function(n,e,t,a){return'\n  &nbsp;\n  <a class="bibbase_abstract_link bibbase link"\n     href="#"\n     onclick="showAbstract(event); return false;">\n    abstract <i class="fa fa-caret-down"></i></a>\n  '},7:function(n,e,t,a){var r,i,s=this.escapeExpression,o=e.helperMissing,l='\n  &nbsp;\n  <span class="bibbase_stats_paper" style="color: #777;">\n    <span>'+s("function"==typeof(i=e.downloads||n&&n.downloads)?i.call(n,{name:"downloads",hash:{},data:a}):i)+" download";return((r=(i=e.ifx||n&&n.ifx||o).call(n,"this.downloads > 1",{name:"ifx",hash:{},fn:this.program(8,a),inverse:this.noop,data:a}))||0===r)&&(l+=r),l+"</span>\n  </span>\n  "},8:function(n,e,t,a){return"s"},10:function(n,e,t,a){var r,i,s='\n<div class="well well-small bibbase" data-type="abstract"\n     style="display:none">\n  ';return((r="function"==typeof(i=e.abstract||n&&n.abstract)?i.call(n,{name:"abstract",hash:{},data:a}):i)||0===r)&&(s+=r),s+"\n</div>\n"},compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i,s=e.helperMissing,o=this.escapeExpression,l='<span class="note">';return((r="function"==typeof(i=e.note||n&&n.note)?i.call(n,{name:"note",hash:{},data:a}):i)||0===r)&&(l+=r),l+='</span>\n\n<span class="bibbase_note">',((r="function"==typeof(i=e.bibbase_note||n&&n.bibbase_note)?i.call(n,{name:"bibbase_note",hash:{},data:a}):i)||0===r)&&(l+=r),l+='</span>\n\n<br class="bibbase_paper_content"/>\n\n<span class="bibbase_paper_content dontprint">\n\n  ',((r=(i=e.each_with_key||n&&n.each_with_key||s).call(n,n&&n.urls,{name:"each_with_key",hash:{},fn:this.programWithDepth(1,a,n),inverse:this.noop,data:a}))||0===r)&&(l+=r),l+="\n\n  ",((r=e.if.call(n,n&&n.doi,{name:"if",hash:{},fn:this.programWithDepth(3,a,n),inverse:this.noop,data:a}))||0===r)&&(l+=r),l+='\n\n  <a href="#"\n     onclick="showBib(event); return false;"\n     class="bibbase bibtex link">bibtex\n    <i class="fa fa-caret-down"></i></a>\n\n  ',((r=e.if.call(n,n&&n.abstract,{name:"if",hash:{},fn:this.program(5,a),inverse:this.noop,data:a}))||0===r)&&(l+=r),l+="\n\n  ",((r=e.if.call(n,n&&n.downloads,{name:"if",hash:{},fn:this.program(7,a),inverse:this.noop,data:a}))||0===r)&&(l+=r),l+='\n\n  \x3c!-- <a class="bibbase read link hidden" --\x3e\n  \x3c!--    href="javascript:toggleRead(\''+o("function"==typeof(i=e.bibbaseid||n&&n.bibbaseid)?i.call(n,{name:"bibbaseid",hash:{},data:a}):i)+'\')" --\x3e\n  \x3c!--    title="Marking this paper as read adds it to your library on BibBase." --\x3e\n  \x3c!--    > --\x3e\n  \x3c!--   <i class="fa fa-check"></i>&nbsp; --\x3e\n  \x3c!--   <span>mark as read</span> --\x3e\n  \x3c!-- </a> --\x3e\n\n</span>\n\n<div class="well well-small bibbase" data-type="bibtex"\n     style="display:none">\n  <pre style="white-space: pre-wrap;">'+o("function"==typeof(i=e.bibtex||n&&n.bibtex)?i.call(n,{name:"bibtex",hash:{},data:a}):i)+"</pre>\n</div>\n\n",((r=e.if.call(n,n&&n.abstract,{name:"if",hash:{},fn:this.program(10,a),inverse:this.noop,data:a}))||0===r)&&(l+=r),l+"\n"},useData:!0}),e.groups=n({1:function(n,e,t,a){var r,i,s=e.helperMissing,o=this.escapeExpression,l='\n  <div class="bibbase_group_whole" id="group_'+o((i=e.normalizeString||n&&n.normalizeString||s).call(n,n&&n.key,{name:"normalizeString",hash:{},data:a}))+'">\n    <div class="bibbase_group"\n      onclick="toggleGroup(\'group_'+o((i=e.normalizeString||n&&n.normalizeString||s).call(n,n&&n.key,{name:"normalizeString",hash:{},data:a}))+"')\"\n      onkeypress=\"toggleGroup('group_"+o((i=e.normalizeString||n&&n.normalizeString||s).call(n,n&&n.key,{name:"normalizeString",hash:{},data:a}))+'\')"\n      tabindex="0">\n      <i class="fa fa-angle-down bibbase_group_head_icon"></i>&nbsp;\n      <span>'+o("function"==typeof(i=e.key||n&&n.key)?i.call(n,{name:"key",hash:{},data:a}):i)+'</span>\n      <span class="bibbase_group_count">\n        ';return((r=e.if.call(n,n&&n.items,{name:"if",hash:{},fn:this.program(2,a),inverse:this.program(4,a),data:a}))||0===r)&&(l+=r),l+='\n      </span>\n    </div>\n    <div class="bibbase_group_body">\n      ',((r=(i=e.insert||n&&n.insert||s).call(n,"papers",{name:"insert",hash:{},data:a}))||0===r)&&(l+=r),l+"\n    </div>\n  </div>\n"},2:function(n,e,t,a){var r;return"\n        ("+(0,this.escapeExpression)("function"==typeof(r=null==(r=n&&n.items)||!1===r?r:r.length)?r.apply(n):r)+")\n        "},4:function(n,e,t,a){var r;return"\n        ("+(0,this.escapeExpression)("function"==typeof(r=null==(r=n&&n.groups)||!1===r?r:r.length)?r.apply(n):r)+")\n        "},compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i="";return((r=e.each.call(n,n&&n.groups,{name:"each",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}))||0===r)&&(i+=r),i+"\n"},useData:!0}),e.list=n({1:function(n,e,t,a){var r,i,s='\n  <div class="bibbase_paper" id="'+(0,this.escapeExpression)("function"==typeof(i=e.bibbaseid||n&&n.bibbaseid)?i.call(n,{name:"bibbaseid",hash:{},data:a}):i)+'">\n    ';return((r="function"==typeof(i=e.html||n&&n.html)?i.call(n,{name:"html",hash:{},data:a}):i)||0===r)&&(s+=r),s+"\n  </div>\n"},compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i="";return((r=e.each.call(n,n&&n.items,{name:"each",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}))||0===r)&&(i+=r),i+"\n"},useData:!0}),e.page=n({1:function(n,e,t,a){var r,i='\n      <li class="dropdown" id="error_dropdown">\n      <a class="dropdown-toggle"\n         data-toggle="dropdown"\n         href="#"\n         style="color: #FBB450">\n          <i class="fa fa-warning"></i>\n          <b class="caret"></b>\n      </a>\n      <ul class="dropdown-menu"\n            style="width: 600px; padding: 10px">\n          Warning, your bibtex file has errors:\n          ';return((r=e.each.call(n,n&&n.errors,{name:"each",hash:{},fn:this.program(2,a),inverse:this.noop,data:a}))||0===r)&&(i+=r),i+"\n        </ul>\n      </li>\n      "},2:function(n,e,t,a){var r,i=this.escapeExpression;return"\n          <hr />\n          Line "+i("function"==typeof(r=e.line||n&&n.line)?r.call(n,{name:"line",hash:{},data:a}):r)+": "+i("function"==typeof(r=e.message||n&&n.message)?r.call(n,{name:"message",hash:{},data:a}):r)+'\n          <div class="well">\n            <pre style="white-space: pre-wrap;"\n                 >"... '+i("function"==typeof(r=e.context||n&&n.context)?r.call(n,{name:"context",hash:{},data:a}):r)+'"</pre>\n          </div>\n          '},4:function(n,e,t,a){var r,i,s="\n        <br/>\n        from ";return((r="function"==typeof(i=e.fromdata||n&&n.fromdata)?i.call(n,{name:"fromdata",hash:{},data:a}):i)||0===r)&&(s+=r),s+"\n        "},6:function(n,e,t,a){return"&amp;"},8:function(n,e,t,a){return"?"},compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i,s=this.escapeExpression,o=e.helperMissing,l='<img src="'+s("function"==typeof(i=e.host||n&&n.host)?i.call(n,{name:"host",hash:{},data:a}):i)+'/img/ajax-loader.gif" id="spinner"\n  style="display: none;" alt="Loading.." />\n\n<div id="bibbase">\n\n  <script type="text/javascript">\n    var bibbase = {\n      params: ';return((r="function"==typeof(i=e.params||n&&n.params)?i.call(n,{name:"params",hash:{},data:a}):i)||0===r)&&(l+=r),l+=",\n      data: ",((r="function"==typeof(i=e.data||n&&n.data)?i.call(n,{name:"data",hash:{},data:a}):i)||0===r)&&(l+=r),l+=",\n      metadata: ",((r="function"==typeof(i=e.metadata||n&&n.metadata)?i.call(n,{name:"metadata",hash:{},data:a}):i)||0===r)&&(l+=r),l+=",\n      ownerID: ",((r="function"==typeof(i=e.ownerID||n&&n.ownerID)?i.call(n,{name:"ownerID",hash:{},data:a}):i)||0===r)&&(l+=r),l+='\n    };\n  <\/script>\n\n  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"\n          type="text/javascript">\n  <\/script>\n\n  <script src="'+s("function"==typeof(i=e.host||n&&n.host)?i.call(n,{name:"host",hash:{},data:a}):i)+'/js/bibbase.min.js"\n          type="text/javascript">\n  <\/script>\n\n  <script type="text/javascript"\n          src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">\n  <\/script>\n  <script type="text/x-mathjax-config">\n    MathJax.Hub.Config({tex2jax: {inlineMath: [[\'$\',\'$\'], [\'\\\\(\',\'\\\\)\']]},\n                        skipTags: ["body"],\n                        processClass: "bibbase_paper"});\n  <\/script>\n\n  <style>\n  @media print {\n    .dontprint {\n        display: none !important;\n    }\n\n  .bibbase_group {\n    background-color: #E0E0E0;\n    font-style: italic;\n    font-size: larger;\n    text-shadow: 0px 0px 3px #FFFFFF;\n    border-radius: 4px 4px 4px 4px;\n    -moz-border-radius: 4px 4px 4px 4px;\n    -webkit-border-radius: 4px;\n    padding: 5px 40px 5px;\n    margin-top: 10px;\n    margin-bottom: 5px;\n    cursor: pointer;\n  }\n\n  .bibbase_paper {\n    margin-bottom: 5px;\n  }\n\n  }\n  </style>\n\n\n\n  <div id="bibbase_header" class="dontprint">\n\n    <ul class="nav nav-pills" style="margin: 0px;">\n\n      <li class="dropdown" id="groupby_dropdown">\n      <a class="dropdown-toggle"\n         data-toggle="dropdown"\n         href="#">\n          Group by\n          <b class="caret"></b>\n      </a>\n      <ul class="dropdown-menu">\n        <li class="groupby year"><a\n               href="#"\n               onclick="groupby(\'year\')">\n            Year</a>\n        </li>\n        <li class="groupby author"><a\n               href="#"\n               onclick="groupby(\'author_short\')">\n            Author</a>\n        </li>\n        <li class="groupby type"><a\n               href="#"\n               onclick="groupby(\'type\')">\n            Type</a>\n        </li>\n        <li class="groupby keyword"><a\n               href="#"\n               onclick="groupby(\'keyword\')">\n            Keyword</a>\n        </li>\n        <li class="groupby downloads"><a\n               href="#"\n               onclick="groupby(\'downloads\')">\n            Downloads</a>\n        </li>\n      </ul>\n      </li>\n\n\n      <li class="dropdown" id="menu_dropdown">\n      <a class="dropdown-toggle"\n         data-toggle="dropdown"\n         href="#" alt="controls">\n          <i class="fa fa-reorder" alt="controls"></i>\n          <b class="caret"></b>\n      </a>\n      <ul class="dropdown-menu">\n        <li>\n          <a href="#" onclick="toggleAll()">\n            <i class="fa fa-expand-o fa-fw"></i> Fold/Unfold All\n          </a>\n        </li>\n        <li>\n          <a href="#" onclick="downloadBibtex()">\n            <i class="fa fa-download fa-fw"></i> Download BibTeX\n          </a>\n        </li>\n        <li>\n          <a href="'+s("function"==typeof(i=e.host||n&&n.host)?i.call(n,{name:"host",hash:{},data:a}):i)+"/rss?bib="+s("function"==typeof(i=e.biburl||n&&n.biburl)?i.call(n,{name:"biburl",hash:{},data:a}):i)+'">\n            <i class="fa fa-rss fa-fw"></i> RSS Feed\n          </a>\n          </li>\n      </ul>\n      </li>\n\n      ',((r=e.if.call(n,n&&n.errors,{name:"if",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}))||0===r)&&(l+=r),l+='\n\n      <li style="float: right; margin-right: 10px;">\n      <div style="margin-top: 10px; text-align: right; font-size: 12px">\n        generated by\n        <a href="'+s("function"==typeof(i=e.host||n&&n.host)?i.call(n,{name:"host",hash:{},data:a}):i)+"\"\n           onclick=\"trackOutboundLink('bibbase', 'logo clicked', window.location.href, "+s("function"==typeof(i=e.host||n&&n.host)?i.call(n,{name:"host",hash:{},data:a}):i)+'); return false;">\n          <img src="'+s("function"==typeof(i=e.host||n&&n.host)?i.call(n,{name:"host",hash:{},data:a}):i)+'/img/logo.svg"\n               style="vertical-align: middle; margin-left: 3px; height: 16px;"/\n               alt="bibbase.org"\n               title="BibBase -- The easiest way to maintain your publications page"\n            ></a>\n        ',((r=e.if.call(n,n&&n.fromdata,{name:"if",hash:{},fn:this.program(4,a),inverse:this.noop,data:a}))||0===r)&&(l+=r),l+='\n      </div>\n      </li>\n\n    </ul>\n\n\n    <div class="alert alert-success bibbase_msg" id="bibbase_msg_embed"\n         style="display: none;">\n      <button type="button" class="close"\n              data-dismiss="alert"><i class="fa fa-times"></i></button>\n\n      Excellent! Next, you can <strong>embed</strong> this page using\n      one of several\n      <a href="#bibbase_embed_modal"\n         data-toggle="modal">options</a>.\n    </div>\n\n    <div class="alert alert-warning bibbase_msg" id="bibbase_msg_mendeley1"\n         style="display: none;">\n      <button type="button" class="close"\n              data-dismiss="alert"><i class="fa fa-times"></i></button>\n\n      <p>To the site owner:</p>\n\n      <p><strong>Action required!</strong> Mendeley is changing its\n        API. In order to keep using Mendeley with BibBase past April\n        14th, you need to:\n        <ol>\n          <li>renew the authorization for BibBase on Mendeley, and</li>\n          <li>update the BibBase URL\n            in your page the same way you did when you initially set up\n            this page.</li>\n      </ol></p>\n\n      <p>\n        <a href="http://bibbase.org/cgi-bin/mendeley2/get.py">\n          <i class="fa fa-angle-double-right"></i>\n          Fix it now</a>\n      </p>\n    </div>\n\n  </div>\n\n\n  <div id="bibbase_body">\n    ',((r="function"==typeof(i=e.body||n&&n.body)?i.call(n,{name:"body",hash:{},data:a}):i)||0===r)&&(l+=r),l+='\n  </div>\n\n\n  \x3c!-- Modal --\x3e\n  <div id="bibbase_embed_modal"\n       class="modal hide fade dontprint"\n       tabindex="-1"\n       role="dialog"\n       aria-labelledby="bibbase_embed_modal_label"\n       aria-hidden="true">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal"\n              aria-hidden="true">&times;</button>\n      <h1>Embedding in another Page</h1>\n    </div>\n    <div id="modalbody" class="modal-body">\n\n      <p>\n        Copy&amp;paste any of the following snippets into an existing\n        page to embed this page. For more details see the\n        <a href="'+s("function"==typeof(i=e.host||n&&n.host)?i.call(n,{name:"host",hash:{},data:a}):i)+'/help">documention</a>.\n      </p>\n\n      <strong>JavaScript</strong>\n      <span class="comment recommended">(Easiest)</span>\n      <div class="well well-small">\n        <code>\n          &lt;script src="'+s("function"==typeof(i=e.embed||n&&n.embed)?i.call(n,{name:"embed",hash:{},data:a}):i),((r=(i=e.ifx||n&&n.ifx||o).call(n,"this.embed.indexOf('?') >= 0",{name:"ifx",hash:{},fn:this.program(6,a),inverse:this.program(8,a),data:a}))||0===r)&&(l+=r),l+'jsonp=1"&gt;&lt;/script&gt;\n        </code>\n      </div>\n\n      <strong>PHP</strong>\n      <div class="well well-small">\n        <code>\n          &lt;?php\n          $contents = file_get_contents("'+s("function"==typeof(i=e.embed||n&&n.embed)?i.call(n,{name:"embed",hash:{},data:a}):i)+'");\n          print_r($contents);\n          ?&gt;\n        </code>\n      </div>\n\n      <strong>iFrame</strong>\n      <div class="well well-small">\n        <code>\n          &lt;iframe src="'+s("function"==typeof(i=e.embed||n&&n.embed)?i.call(n,{name:"embed",hash:{},data:a}):i)+'"&gt;&lt;/iframe&gt;\n        </code>\n      </div>\n\n\n    </div>\n    <div class="modal-footer">\n      <button class="btn btn-primary"\n            data-dismiss="modal"\n            aria-hidden="true">\n      Close\n      </button>\n    </div>\n  </div>\n\n  \x3c!-- <iframe id="bibbase_network_frame" --\x3e\n  \x3c!--         src="'+s("function"==typeof(i=e.host||n&&n.host)?i.call(n,{name:"host",hash:{},data:a}):i)+'/network/control" --\x3e\n  \x3c!--         style="display: none;"> --\x3e\n  \x3c!-- </iframe> --\x3e\n\n</div>\n'},useData:!0}),e.page_list=n({1:function(n,e,t,a){var r;return'\n    <a href="'+(0,this.escapeExpression)("function"==typeof(r=e.next||n&&n.next)?r.call(n,{name:"next",hash:{},data:a}):r)+'">More..</a>\n    '},compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i,s=this.escapeExpression,o=e.helperMissing,l='<html>\n\n  <head>\n    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n    <title>BibBase: List of '+s("function"==typeof(i=e.title||n&&n.title)?i.call(n,{name:"title",hash:{},data:a}):i)+'</title>\n    <link rel="stylesheet" type="text/css" href="/style.css" />\n  </head>\n  \n\n  <body id="stats">\n\n    <h1>'+s("function"==typeof(i=e.title||n&&n.title)?i.call(n,{name:"title",hash:{},data:a}):i)+"</h1>    \n\n    ";return((r=(i=e.insert||n&&n.insert||o).call(n,"page",{name:"insert",hash:{},data:a}))||0===r)&&(l+=r),l+="\n\n    <hr />\n    ",((r=e.if.call(n,n&&n.next,{name:"if",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}))||0===r)&&(l+=r),l+"    \n  </body>\n\n</html>\n"},useData:!0}),e.paper=n({compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i,s=this.escapeExpression,o=e.helperMissing,l='<div class="bibbase_paper" id="'+s("function"==typeof(i=e.bibbaseid||n&&n.bibbaseid)?i.call(n,{name:"bibbaseid",hash:{},data:a}):i)+'">\n  ';return((r=(i=e.insert||n&&n.insert||o).call(n,"title_person",{name:"insert",hash:{},data:a}))||0===r)&&(l+=r),l+="\n  ",((r="function"==typeof(i=e.typeTemplate||n&&n.typeTemplate)?i.call(n,{name:"typeTemplate",hash:{},data:a}):i)||0===r)&&(l+=r),l+="\n  ",((r=(i=e.insert||n&&n.insert||o).call(n,"extras",{name:"insert",hash:{},data:a}))||0===r)&&(l+=r),l+"\n</div>\n"},useData:!0}),e.papers=n({1:function(n,e,t,a){var r,i=e.helperMissing,s="\n  ";return((r=(e.insert||n&&n.insert||i).call(n,"groups",{name:"insert",hash:{},data:a}))||0===r)&&(s+=r),s+"\n"},3:function(n,e,t,a){var r,i=e.helperMissing,s="\n  ";return((r=(e.insert||n&&n.insert||i).call(n,"list",{name:"insert",hash:{},data:a}))||0===r)&&(s+=r),s+"\n"},compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i="";return((r=e.if.call(n,n&&n.groups,{name:"if",hash:{},fn:this.program(1,a),inverse:this.program(3,a),data:a}))||0===r)&&(i+=r),i+"\n"},useData:!0}),e.person=n({1:function(n,e,t,a){var r,i=e.helperMissing,s=", editor\n  ";return((r=(e.ifx||n&&n.ifx||i).call(n,"this[this.role+'_short'].length > 1",{name:"ifx",hash:{},fn:this.program(2,a),inverse:this.noop,data:a}))||0===r)&&(s+=r),s+".\n  "},2:function(n,e,t,a){return"s"},compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i=e.helperMissing,s='<span class="bibbase_paper_author">\n  ';return((r=(e.getPerson||n&&n.getPerson||i).call(n,n&&n.role,n&&n.metadata,{name:"getPerson",hash:{},data:a}))||0===r)&&(s+=r),s+="\n  ",((r=(e.ifx||n&&n.ifx||i).call(n,"this.role == 'editor'",{name:"ifx",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}))||0===r)&&(s+=r),s+"\n</span>\n"},useData:!0}),e.poster=n({compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i,s='<script type="text/javascript">\n  window.parent.postMessage(';return((r="function"==typeof(i=e.message||n&&n.message)?i.call(n,{name:"message",hash:{},data:a}):i)||0===r)&&(s+=r),s+", '*');\n<\/script>\n"},useData:!0}),e.publication=n({compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i,s=e.helperMissing,o='\n<html>\n\n  <head>\n    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n    <title>BibBase: ';return((r="function"==typeof(i=e.title||n&&n.title)?i.call(n,{name:"title",hash:{},data:a}):i)||0===r)&&(o+=r),o+='</title>\n    <link rel="stylesheet" type="text/css" href="/css/styles/default.css" />\n    <link rel="stylesheet" type="text/css" href="/css/styles/common.css" />\n  </head>\n\n\n  <body id="publication">\n\n    <img src="/img/logo.svg" id="logo" style="float:right" alt="bibbase.org">\n\n    ',((r=(i=e.insert||n&&n.insert||s).call(n,"paper",{name:"insert",hash:{},data:a}))||0===r)&&(o+=r),o+"\n\n  </body>\n\n</html>\n"},useData:!0}),e.redirector=n({compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i,s='<script type="text/javascript">\n  window.parent.location.href = \'';return((r="function"==typeof(i=e.redirect||n&&n.redirect)?i.call(n,{name:"redirect",hash:{},data:a}):i)||0===r)&&(s+=r),s+"';\n<\/script>\n"},useData:!0}),e.test_result=n({1:function(n,e,t,a){var r,i=e.helperMissing,s="\n";return((r=(e.insert||n&&n.insert||i).call(n,"diff",n,{name:"insert",hash:{},data:a}))||0===r)&&(s+=r),s+"\n"},compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i='<html>\n<head>\n  <link href="css/test.css" rel="stylesheet" type="text/css">\n</head>\n\n<body>\n\n';return((r=e.each.call(n,n,{name:"each",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}))||0===r)&&(i+=r),i+"\n\n</body>\n\n</html>\n"},useData:!0}),e.title=n({compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i,s=this.escapeExpression,o=e.helperMissing,l='<span class="bibbase_paper_title">\n  <a href="'+s("function"==typeof(i=e.host||n&&n.host)?i.call(n,{name:"host",hash:{},data:a}):i)+"/network/publication/"+s("function"==typeof(i=e.bibbaseid||n&&n.bibbaseid)?i.call(n,{name:"bibbaseid",hash:{},data:a}):i)+"\"\n     onclick=\"return trackOutboundLink('publications', 'click', '"+s("function"==typeof(i=e.bibbaseid||n&&n.bibbaseid)?i.call(n,{name:"bibbaseid",hash:{},data:a}):i)+"', '"+s("function"==typeof(i=e.host||n&&n.host)?i.call(n,{name:"host",hash:{},data:a}):i)+"/network/publication/"+s("function"==typeof(i=e.bibbaseid||n&&n.bibbaseid)?i.call(n,{name:"bibbaseid",hash:{},data:a}):i)+"');\">\n    \n    ";return((r=(i=e.formatTitle||n&&n.formatTitle||o).call(n,n&&n.title,{name:"formatTitle",hash:{},data:a}))||0===r)&&(l+=r),l+"\n  </a>\n</span>\n"},useData:!0}),e.title_person=n({1:function(n,e,t,a){var r,i=e.helperMissing,s="\n  ";return((r=(e.insert||n&&n.insert||i).call(n,"person",{name:"insert",hash:{},data:a}))||0===r)&&(s+=r),s+="\n  ",((r=(e.insert||n&&n.insert||i).call(n,"title",{name:"insert",hash:{},data:a}))||0===r)&&(s+=r),s+"\n  "},3:function(n,e,t,a){var r,i=e.helperMissing,s="\n  ";return((r=(e.insert||n&&n.insert||i).call(n,"title",{name:"insert",hash:{},data:a}))||0===r)&&(s+=r),s+="\n  ",((r=(e.insert||n&&n.insert||i).call(n,"person",{name:"insert",hash:{},data:a}))||0===r)&&(s+=r),s+"\n  "},compiler:[5,">= 2.0.0"],main:function(n,e,t,a){var r,i='<span class="bibbase_paper_titleauthoryear">\n\n  ';return((r=e.if.call(n,n&&n.authorFirst,{name:"if",hash:{},fn:this.program(1,a),inverse:this.program(3,a),data:a}))||0===r)&&(i+=r),i+"\n\n</span>\n"},useData:!0})}(),console.log("loading bibbase.js"),toggle=function(n){console.log(n),$(n.nextSibling).toggle(200),$(n.firstChild).toggleClass("fa-angle-down").toggleClass("fa-angle-right")},toggleGroup=function(n){$("#"+n+" .bibbase_group_body").toggle(200),$("#"+n+" .bibbase_group_head_icon").toggleClass("fa-angle-down").toggleClass("fa-angle-right")},toggleAll=function(){$(".bibbase_group_body").toggle(200),$(".bibbase_group_head_icon").toggleClass("fa-angle-down").toggleClass("fa-angle-right")},showBib=function(n){$(n.target).parents(".bibbase_paper").find("[data-type=bibtex]").slideToggle(300)},showAbstract=function(n){$(n.target).parents(".bibbase_paper").find("[data-type=abstract]").slideToggle(300)},downloadBibtex=function(){var n="";$("[data-type='bibtex'] pre").each(function(e,t){n+=t.innerHTML+"\n\n"});var e="data:Application/octet-stream,"+encodeURIComponent(n);document.location=e};var trackOutboundLink=function(n,e,t,a){return ga("send","event",n,e,t,{hitCallback:function(){document.location=a}}),setTimeout(function(){document.location=a},500),!1};groupby=function(n){var e=groupDataRec(bibbase.data,[n]);$("#bibbase_body").html(Handlebars.templates.papers(e)),markRead()},TemplatesObject=Handlebars.templates,"undefined"!=typeof Meteor&&Meteor.startup(function(){TemplatesObject=Handlebars.templates}),get=function(n,e,t){return t[n]?e?e.replace(/X/g,t[n]):t[n]:""},groupDataRec=function(n,e){if(e.length>0){var t,a=_.reduce(n,function(n,t){var a,r=function(n,e,t){n[t]||(n[t]=[]),n[t].push(e)},i=(a=t.bibdata?t.bibdata:t)[e[0]];return i instanceof Array?_.each(i,function(e){r(n,t,e)}):r(n,t,i),n},{}),r=_.map(a,function(n,t){return t=t.replace(/<nbsp>/g," "),_.extend({key:t},groupDataRec(n,e.slice(1)))});return t="year"==e[0]||"downloads"==e[0]?_.sortBy(r,function(n){return-1*Number(n.key)}):_.sortBy(r,function(n){return n.key}),{groups:t}}return{items:_.sortBy(n,function(n){return-n.votes||0})}},amazonString=function(n){var e;return"book"==n.bibtype?e=n.title:"inbook"==n.bibtype?e=n.series||n.title||n.booktitle:"incollection"==n.bibtype?e=n.booktitle:"proceedings"==n.bibtype&&(e=n.title||n.title),e&&(e=e.replace(/\(.*\)/g,"")),n.author&&n.author[0]&&n.author[0].lastnames&&(e=n.author[0].lastnames[0]+" "+e),e},bibbaseHelpers={insert:function(n){return TemplatesObject[n](this)},get:get,getList:function(n){var e=[];for(var t in n){var a=n[t];a&&a.length>0&&e.push(a)}return e.join(", ")},getPerson:function(n,e,t){t&&!t.hash||(t=this),e||(e=t.metadata);var a="",r=t.params&&"1"==t.params.fullnames?_.map(t[n],function(n){return _.union(n.prefixes,n.firstnames,n.lastnames,n.suffixes).join(" ")}):t[n+"_short"];if(r){for(var i=0;i<r.length;i++){i>0&&(a+="; "),r.length>1&&i==r.length-1&&(a+=" and ");var s=r[i].replace("<nbsp>","&nbsp;"),o=s.slice(0,s.indexOf(".")).toLowerCase();e&&null!=e&&e.authorlinks&&e.authorlinks[o]?a+='<a class="bibbase author link" href="'+e.authorlinks[o]+'">'+s+"</a>":a+=s}t.params&&"1"==t.params.fullnames&&(a+=".")}return a},capitalize:function(n){return n&&n.length>0?n[0].toUpperCase()+n.slice(1):n},guessFiletype:function(n){if(n&&"string"==typeof n){var e=n.slice(n.lastIndexOf(".")+1).toLowerCase();if(["pdf","ps","txt","png","jpg","gif","tif","doc","docx","ppt","pptx","xls","xlsx"].indexOf(e)>=0)return e}return"link"},getExtension:function(n){return n&&"string"==typeof n?n.slice(n.lastIndexOf(".")+1).toLowerCase():"..."},normalizeString:function(n){return n.replace(/[^a-zA-Z0-9]/g,"_")},formatTitle:function(n){return(n?n.replace(/\.$/,""):"")+"."},note:function(){return get("note","X",this)},bibbase_note:function(){return get("bibbase_note","X",this)},typeTemplate:function(){var n=this,e=bibbaseHelpers.getList,t=bibbaseHelpers.capitalize,a=function(e,t){return bibbaseHelpers.get(e,t,n)},r=function(e){return bibbaseHelpers.getPerson(e,void 0,n)};return({inproceedings:function(){var t="In "+e([n.editor?r("editor")+", editor(s)":"",a("booktitle","<i>X</i>"),a("volume","volume X"),a("series")!=a("booktitle")?a("series","of <i>X</i>"):"",a("pages","pages X"),a("address"),a("month")+" "+a("year")])+". ";return(n.organization||n.publisher)&&(t+=e([a("organization"),a("publisher")])),t},article:function(){var e=a("journal","<i>X</i>");return(n.number||n.volume||n.pages)&&(e+=","),(n.number||n.volume)&&(e+=" "+a("volume")+a("number","(X)"),n.pages&&(e+=": ")),e+=a("pages")+". "+a("month")+" "+a("year")+"."},book:function(){var t="";return(n.volume||n.series)&&(t+=a("volume","Volume X")+" "+a("series","of X")),t+=e([a("publisher"),a("address"),a("edition","X edition"),a("month")+" "+a("year")])+"."},booklet:function(){return e([a("howpublished"),a("address"),a("month")+" "+a("year")])+"."},inbook:function(){var i="";return(n.volume||n.series)&&(i+=t(e([a("volume","volume X")+" "+a("series","of X"),n.editor?r("editor")+", editor(s)":""]))+". "),(n.chapter||n.pages)&&(i+=e([a("chapter"),a("pages","pages X")])+". "),i+=e([a("publisher"),a("address"),a("edition","X edition"),a("month")+" "+a("year")])+"."},incollection:function(){var i="";return i+="In "+e([n.editor?r("editor")+", editor(s)":"",a("booktitle","<i>X</i>"),a("volume","volume X"),a("series","of X"),a("chapter"),a("pages","pages X")])+". "+t(e([a("publisher"),a("address"),a("edition","X edition"),a("month")+" "+a("year")]))+"."},inproceedings:function(){var t="In "+e([n.editor?r("editor")+", editor(s)":"",a("booktitle","<i>X</i>"),a("volume","volume X"),a("series")!=a("booktitle")?a("series","of <i>X</i>"):"",a("pages","pages X"),a("address"),a("month")+" "+a("year")])+". ";return(n.organization||n.publisher)&&(t+=e([a("organization"),a("publisher")])),t},manual:function(){return e([a("organization"),a("address"),a("edition","X edition"),a("month")+" "+a("year")])+"."},mastersthesis:function(){return e(["Master's Thesis",a("school"),a("address"),a("month")+" "+a("year")])+"."},misc:function(){var n=e([a("howpublished"),a("month")+" "+a("year")]);return n.length>1&&(n+="."),n},phdthesis:function(){return e(["Ph.D. Thesis",a("school"),a("address"),a("month")+" "+a("year")])+"."},proceedings:function(){var t="";return(n.volume||n.series)&&(t+=e([a("volume","Volume X"),a("series","of X")])+"."),t+=e([a("address"),a("month")+" "+a("year")])+".",(n.organization||n.publisher)&&(t+=e([a("organization"),a("publisher")])+"."),t},techreport:function(){return"Technical Report "+e([a("number"),a("institution"),a("address"),a("month")+" "+a("year")])+"."},unpublished:function(){return a("month")+" "+a("year")+"."}}[n.bibtype.toLowerCase()]||function(){var e=a("month")+" "+a("year")+".";return e+="\x3c!-- NOTE FROM BIBBASE: This entry has an invalid bibtex entry type: "+n.bibtype+". Therefore, we don't know how to render it properly. Please consider fixing this. --\x3e"})()}},registerHelper=function(HandlebarsRegister){_.each(bibbaseHelpers,function(n,e){HandlebarsRegister.registerHelper(e,n)}),HandlebarsRegister.registerHelper("each_with_key",function(n,e){var t,a={},r="";e.hash.key;for(t in n)n.hasOwnProperty(t)&&(a.value=n[t],a.key=t,r+=e.fn(a));return r}),HandlebarsRegister.registerHelper("ifx",function(conditional,options){var truthValue=!1;try{truthValue=eval(conditional)}catch(n){console.log("Exception in #ifx evaluation of condition: ",conditional,n)}return truthValue?options.fn(this):options.inverse(this)})},$("#bibbase").hide(),$("#spinner").show();var server;server="undefined"!=typeof bibbase&&bibbase.params&&bibbase.params.host?"https://"+bibbase.params.host:"","undefined"==typeof bibbase||!bibbase.params||bibbase.params.css||bibbase.params.theme||loadcss(server+"/css/styles/hide_text.css"),loadcss(server+"/css/styles/common.css"),bibbase.theme=server+"/css/styles/default.css","undefined"!=typeof bibbase&&bibbase.params&&bibbase.params.theme&&(bibbase.theme=server+"/css/styles/"+bibbase.params.theme+".css"),loadcss(bibbase.theme),bibbase.params.css&&loadcss("//"+bibbase.params.css,"append"),loadcss("//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css");var handleResponse={get:function(n){n.result&&(console.log("marking read"),bibbase.read=n.result,markRead())}};onMessage=function(n){if(this!=n.source&&"undefined"!=typeof bibbase){var e=JSON.parse(n.data);bibbase.networkFrame=n.source,"response"==e.type&&handleResponse[e.command](e)}},toggleRead=function(n){console.log("toggle ",n);var e=!1;if(bibbase.read&&bibbase.read.forEach(function(t){if(t.bibbaseid==n){console.log("unread ",t);var a={command:"unread",_id:t._id,isbibbase:!0};bibbase.networkFrame.postMessage(JSON.stringify(a),"*"),e=!0}}),!e){console.log("read ",n);var t={command:"read",bibbaseid:n,isbibbase:!0};bibbase.networkFrame.postMessage(JSON.stringify(t),"*")}},$(document).ready(function(){"undefined"!=typeof bibbase&&(gatherHTML(),bibbase.params&&(bibbase.params.folding&&1==bibbase.params.folding&&toggleAll(),log_send({type:"visit",biburl:bibbase.params.bib,title:document.title,ownerID:bibbase.ownerID,token:bibbase.params.token}),bibbase.params.msg&&$("#bibbase_msg_"+bibbase.params.msg).delay(500).slideDown(400))),loadBootstrap(function(){$("#spinner").hide(),$("#bibbase").show()}),$(".bibbase.author.link").on("click",function(n){console.log(n.target),ga("send","event","authors","link clicked",n.target.innerHTML)}),$("head").append($("<style/>",{id:"bibbase_style_read"})),window.attachEvent?window.attachEvent("onmessage",onMessage):window.addEventListener&&window.addEventListener("message",onMessage,!1),registerHelper(Handlebars)}),function(){var n=this,e=n._,t={},a=Array.prototype,r=Object.prototype,i=Function.prototype,s=a.push,o=a.slice,l=a.concat,c=r.toString,u=r.hasOwnProperty,p=a.forEach,f=a.map,h=a.reduce,d=a.reduceRight,b=a.filter,m=a.every,g=a.some,y=a.indexOf,v=a.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,k=function(n){return n instanceof k?n:this instanceof k?void(this._wrapped=n):new k(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):n._=k,k.VERSION="1.6.0";var j=k.each=k.forEach=function(n,e,a){if(null==n)return n;if(p&&n.forEach===p)n.forEach(e,a);else if(n.length===+n.length){for(var r=0,i=n.length;r<i;r++)if(e.call(a,n[r],r,n)===t)return}else for(var s=k.keys(n),r=0,i=s.length;r<i;r++)if(e.call(a,n[s[r]],s[r],n)===t)return;return n};k.map=k.collect=function(n,e,t){var a=[];return null==n?a:f&&n.map===f?n.map(e,t):(j(n,function(n,r,i){a.push(e.call(t,n,r,i))}),a)};var E="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(n,e,t,a){var r=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return a&&(e=k.bind(e,a)),r?n.reduce(e,t):n.reduce(e);if(j(n,function(n,i,s){r?t=e.call(a,t,n,i,s):(t=n,r=!0)}),!r)throw new TypeError(E);return t},k.reduceRight=k.foldr=function(n,e,t,a){var r=arguments.length>2;if(null==n&&(n=[]),d&&n.reduceRight===d)return a&&(e=k.bind(e,a)),r?n.reduceRight(e,t):n.reduceRight(e);var i=n.length;if(i!==+i){var s=k.keys(n);i=s.length}if(j(n,function(o,l,c){l=s?s[--i]:--i,r?t=e.call(a,t,n[l],l,c):(t=n[l],r=!0)}),!r)throw new TypeError(E);return t},k.find=k.detect=function(n,e,t){var a;return T(n,function(n,r,i){if(e.call(t,n,r,i))return a=n,!0}),a},k.filter=k.select=function(n,e,t){var a=[];return null==n?a:b&&n.filter===b?n.filter(e,t):(j(n,function(n,r,i){e.call(t,n,r,i)&&a.push(n)}),a)},k.reject=function(n,e,t){return k.filter(n,function(n,a,r){return!e.call(t,n,a,r)},t)},k.every=k.all=function(n,e,a){e||(e=k.identity);var r=!0;return null==n?r:m&&n.every===m?n.every(e,a):(j(n,function(n,i,s){if(!(r=r&&e.call(a,n,i,s)))return t}),!!r)};var T=k.some=k.any=function(n,e,a){e||(e=k.identity);var r=!1;return null==n?r:g&&n.some===g?n.some(e,a):(j(n,function(n,i,s){if(r||(r=e.call(a,n,i,s)))return t}),!!r)};k.contains=k.include=function(n,e){return null!=n&&(y&&n.indexOf===y?-1!=n.indexOf(e):T(n,function(n){return n===e}))},k.invoke=function(n,e){var t=o.call(arguments,2),a=k.isFunction(e);return k.map(n,function(n){return(a?e:n[e]).apply(n,t)})},k.pluck=function(n,e){return k.map(n,k.property(e))},k.where=function(n,e){return k.filter(n,k.matches(e))},k.findWhere=function(n,e){return k.find(n,k.matches(e))},k.max=function(n,e,t){if(!e&&k.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var a=-1/0,r=-1/0;return j(n,function(n,i,s){var o=e?e.call(t,n,i,s):n;o>r&&(a=n,r=o)}),a},k.min=function(n,e,t){if(!e&&k.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var a=1/0,r=1/0;return j(n,function(n,i,s){var o=e?e.call(t,n,i,s):n;o<r&&(a=n,r=o)}),a},k.shuffle=function(n){var e,t=0,a=[];return j(n,function(n){e=k.random(t++),a[t-1]=a[e],a[e]=n}),a},k.sample=function(n,e,t){return null==e||t?(n.length!==+n.length&&(n=k.values(n)),n[k.random(n.length-1)]):k.shuffle(n).slice(0,Math.max(0,e))};var M=function(n){return null==n?k.identity:k.isFunction(n)?n:k.property(n)};k.sortBy=function(n,e,t){return e=M(e),k.pluck(k.map(n,function(n,a,r){return{value:n,index:a,criteria:e.call(t,n,a,r)}}).sort(function(n,e){var t=n.criteria,a=e.criteria;if(t!==a){if(t>a||void 0===t)return 1;if(t<a||void 0===a)return-1}return n.index-e.index}),"value")};var D=function(n){return function(e,t,a){var r={};return t=M(t),j(e,function(i,s){var o=t.call(a,i,s,e);n(r,o,i)}),r}};k.groupBy=D(function(n,e,t){k.has(n,e)?n[e].push(t):n[e]=[t]}),k.indexBy=D(function(n,e,t){n[e]=t}),k.countBy=D(function(n,e){k.has(n,e)?n[e]++:n[e]=1}),k.sortedIndex=function(n,e,t,a){for(var r=(t=M(t)).call(a,e),i=0,s=n.length;i<s;){var o=i+s>>>1;t.call(a,n[o])<r?i=o+1:s=o}return i},k.toArray=function(n){return n?k.isArray(n)?o.call(n):n.length===+n.length?k.map(n,k.identity):k.values(n):[]},k.size=function(n){return null==n?0:n.length===+n.length?n.length:k.keys(n).length},k.first=k.head=k.take=function(n,e,t){if(null!=n)return null==e||t?n[0]:e<0?[]:o.call(n,0,e)},k.initial=function(n,e,t){return o.call(n,0,n.length-(null==e||t?1:e))},k.last=function(n,e,t){if(null!=n)return null==e||t?n[n.length-1]:o.call(n,Math.max(n.length-e,0))},k.rest=k.tail=k.drop=function(n,e,t){return o.call(n,null==e||t?1:e)},k.compact=function(n){return k.filter(n,k.identity)};var O=function(n,e,t){return e&&k.every(n,k.isArray)?l.apply(t,n):(j(n,function(n){k.isArray(n)||k.isArguments(n)?e?s.apply(t,n):O(n,e,t):t.push(n)}),t)};k.flatten=function(n,e){return O(n,e,[])},k.without=function(n){return k.difference(n,o.call(arguments,1))},k.partition=function(n,e,t){e=M(e);var a=[],r=[];return j(n,function(n){(e.call(t,n)?a:r).push(n)}),[a,r]},k.uniq=k.unique=function(n,e,t,a){k.isFunction(e)&&(a=t,t=e,e=!1);var r=t?k.map(n,t,a):n,i=[],s=[];return j(r,function(t,a){(e?a&&s[s.length-1]===t:k.contains(s,t))||(s.push(t),i.push(n[a]))}),i},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(n){var e=o.call(arguments,1);return k.filter(k.uniq(n),function(n){return k.every(e,function(e){return k.contains(e,n)})})},k.difference=function(n){var e=l.apply(a,o.call(arguments,1));return k.filter(n,function(n){return!k.contains(e,n)})},k.zip=function(){for(var n=k.max(k.pluck(arguments,"length").concat(0)),e=new Array(n),t=0;t<n;t++)e[t]=k.pluck(arguments,""+t);return e},k.object=function(n,e){if(null==n)return{};for(var t={},a=0,r=n.length;a<r;a++)e?t[n[a]]=e[a]:t[n[a][0]]=n[a][1];return t},k.indexOf=function(n,e,t){if(null==n)return-1;var a=0,r=n.length;if(t){if("number"!=typeof t)return a=k.sortedIndex(n,e),n[a]===e?a:-1;a=t<0?Math.max(0,r+t):t}if(y&&n.indexOf===y)return n.indexOf(e,t);for(;a<r;a++)if(n[a]===e)return a;return-1},k.lastIndexOf=function(n,e,t){if(null==n)return-1;var a=null!=t;if(v&&n.lastIndexOf===v)return a?n.lastIndexOf(e,t):n.lastIndexOf(e);for(var r=a?t:n.length;r--;)if(n[r]===e)return r;return-1},k.range=function(n,e,t){arguments.length<=1&&(e=n||0,n=0),t=arguments[2]||1;for(var a=Math.max(Math.ceil((e-n)/t),0),r=0,i=new Array(a);r<a;)i[r++]=n,n+=t;return i};var A=function(){};k.bind=function(n,e){var t,a;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!k.isFunction(n))throw new TypeError;return t=o.call(arguments,2),a=function(){if(!(this instanceof a))return n.apply(e,t.concat(o.call(arguments)));A.prototype=n.prototype;var r=new A;A.prototype=null;var i=n.apply(r,t.concat(o.call(arguments)));return Object(i)===i?i:r}},k.partial=function(n){var e=o.call(arguments,1);return function(){for(var t=0,a=e.slice(),r=0,i=a.length;r<i;r++)a[r]===k&&(a[r]=arguments[t++]);for(;t<arguments.length;)a.push(arguments[t++]);return n.apply(this,a)}},k.bindAll=function(n){var e=o.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return j(e,function(e){n[e]=k.bind(n[e],n)}),n},k.memoize=function(n,e){var t={};return e||(e=k.identity),function(){var a=e.apply(this,arguments);return k.has(t,a)?t[a]:t[a]=n.apply(this,arguments)}},k.delay=function(n,e){var t=o.call(arguments,2);return setTimeout(function(){return n.apply(null,t)},e)},k.defer=function(n){return k.delay.apply(k,[n,1].concat(o.call(arguments,1)))},k.throttle=function(n,e,t){var a,r,i,s=null,o=0;t||(t={});var l=function(){o=!1===t.leading?0:k.now(),s=null,i=n.apply(a,r),a=r=null};return function(){var c=k.now();o||!1!==t.leading||(o=c);var u=e-(c-o);return a=this,r=arguments,u<=0?(clearTimeout(s),s=null,o=c,i=n.apply(a,r),a=r=null):s||!1===t.trailing||(s=setTimeout(l,u)),i}},k.debounce=function(n,e,t){var a,r,i,s,o,l=function(){var c=k.now()-s;c<e?a=setTimeout(l,e-c):(a=null,t||(o=n.apply(i,r),i=r=null))};return function(){i=this,r=arguments,s=k.now();var c=t&&!a;return a||(a=setTimeout(l,e)),c&&(o=n.apply(i,r),i=r=null),o}},k.once=function(n){var e,t=!1;return function(){return t?e:(t=!0,e=n.apply(this,arguments),n=null,e)}},k.wrap=function(n,e){return k.partial(e,n)},k.compose=function(){var n=arguments;return function(){for(var e=arguments,t=n.length-1;t>=0;t--)e=[n[t].apply(this,e)];return e[0]}},k.after=function(n,e){return function(){if(--n<1)return e.apply(this,arguments)}},k.keys=function(n){if(!k.isObject(n))return[];if(w)return w(n);var e=[];for(var t in n)k.has(n,t)&&e.push(t);return e},k.values=function(n){for(var e=k.keys(n),t=e.length,a=new Array(t),r=0;r<t;r++)a[r]=n[e[r]];return a},k.pairs=function(n){for(var e=k.keys(n),t=e.length,a=new Array(t),r=0;r<t;r++)a[r]=[e[r],n[e[r]]];return a},k.invert=function(n){for(var e={},t=k.keys(n),a=0,r=t.length;a<r;a++)e[n[t[a]]]=t[a];return e},k.functions=k.methods=function(n){var e=[];for(var t in n)k.isFunction(n[t])&&e.push(t);return e.sort()},k.extend=function(n){return j(o.call(arguments,1),function(e){if(e)for(var t in e)n[t]=e[t]}),n},k.pick=function(n){var e={},t=l.apply(a,o.call(arguments,1));return j(t,function(t){t in n&&(e[t]=n[t])}),e},k.omit=function(n){var e={},t=l.apply(a,o.call(arguments,1));for(var r in n)k.contains(t,r)||(e[r]=n[r]);return e},k.defaults=function(n){return j(o.call(arguments,1),function(e){if(e)for(var t in e)void 0===n[t]&&(n[t]=e[t])}),n},k.clone=function(n){return k.isObject(n)?k.isArray(n)?n.slice():k.extend({},n):n},k.tap=function(n,e){return e(n),n};var S=function(n,e,t,a){if(n===e)return 0!==n||1/n==1/e;if(null==n||null==e)return n===e;n instanceof k&&(n=n._wrapped),e instanceof k&&(e=e._wrapped);var r=c.call(n);if(r!=c.call(e))return!1;switch(r){case"[object String]":return n==String(e);case"[object Number]":return n!=+n?e!=+e:0==n?1/n==1/e:n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object RegExp]":return n.source==e.source&&n.global==e.global&&n.multiline==e.multiline&&n.ignoreCase==e.ignoreCase}if("object"!=typeof n||"object"!=typeof e)return!1;for(var i=t.length;i--;)if(t[i]==n)return a[i]==e;var s=n.constructor,o=e.constructor;if(s!==o&&!(k.isFunction(s)&&s instanceof s&&k.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in e)return!1;t.push(n),a.push(e);var l=0,u=!0;if("[object Array]"==r){if(l=n.length,u=l==e.length)for(;l--&&(u=S(n[l],e[l],t,a)););}else{for(var p in n)if(k.has(n,p)&&(l++,!(u=k.has(e,p)&&S(n[p],e[p],t,a))))break;if(u){for(p in e)if(k.has(e,p)&&!l--)break;u=!l}}return t.pop(),a.pop(),u};k.isEqual=function(n,e){return S(n,e,[],[])},k.isEmpty=function(n){if(null==n)return!0;if(k.isArray(n)||k.isString(n))return 0===n.length;for(var e in n)if(k.has(n,e))return!1;return!0},k.isElement=function(n){return!(!n||1!==n.nodeType)},k.isArray=x||function(n){return"[object Array]"==c.call(n)},k.isObject=function(n){return n===Object(n)},j(["Arguments","Function","String","Number","Date","RegExp"],function(n){k["is"+n]=function(e){return c.call(e)=="[object "+n+"]"}}),k.isArguments(arguments)||(k.isArguments=function(n){return!(!n||!k.has(n,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(n){return"function"==typeof n}),k.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},k.isNaN=function(n){return k.isNumber(n)&&n!=+n},k.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"==c.call(n)},k.isNull=function(n){return null===n},k.isUndefined=function(n){return void 0===n},k.has=function(n,e){return u.call(n,e)},k.noConflict=function(){return n._=e,this},k.identity=function(n){return n},k.constant=function(n){return function(){return n}},k.property=function(n){return function(e){return e[n]}},k.matches=function(n){return function(e){if(e===n)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0}},k.times=function(n,e,t){for(var a=Array(Math.max(0,n)),r=0;r<n;r++)a[r]=e.call(t,r);return a},k.random=function(n,e){return null==e&&(e=n,n=0),n+Math.floor(Math.random()*(e-n+1))},k.now=Date.now||function(){return(new Date).getTime()};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};F.unescape=k.invert(F.escape);var H={escape:new RegExp("["+k.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(F.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(n){k[n]=function(e){return null==e?"":(""+e).replace(H[n],function(e){return F[n][e]})}}),k.result=function(n,e){if(null!=n){var t=n[e];return k.isFunction(t)?t.call(n):t}},k.mixin=function(n){j(k.functions(n),function(e){var t=k[e]=n[e];k.prototype[e]=function(){var n=[this._wrapped];return s.apply(n,arguments),I.call(this,t.apply(k,n))}})};var B=0;k.uniqueId=function(n){var e=++B+"";return n?n+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(n,e,t){var a;t=k.defaults({},t,k.templateSettings);var r=new RegExp([(t.escape||R).source,(t.interpolate||R).source,(t.evaluate||R).source].join("|")+"|$","g"),i=0,s="__p+='";n.replace(r,function(e,t,a,r,o){return s+=n.slice(i,o).replace(C,function(n){return"\\"+P[n]}),t&&(s+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'"),a&&(s+="'+\n((__t=("+a+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),i=o+e.length,e}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{a=new Function(t.variable||"obj","_",s)}catch(n){throw n.source=s,n}if(e)return a(e,k);var o=function(n){return a.call(this,n,k)};return o.source="function("+(t.variable||"obj")+"){\n"+s+"}",o},k.chain=function(n){return k(n).chain()};var I=function(n){return this._chain?k(n).chain():n};k.mixin(k),j(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var e=a[n];k.prototype[n]=function(){var t=this._wrapped;return e.apply(t,arguments),"shift"!=n&&"splice"!=n||0!==t.length||delete t[0],I.call(this,t)}}),j(["concat","join","slice"],function(n){var e=a[n];k.prototype[n]=function(){return I.call(this,e.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return k})}.call(this),function(n,e,t,a,r,i,s){n.GoogleAnalyticsObject=r,n.ga=n.ga||function(){(n.ga.q=n.ga.q||[]).push(arguments)},n.ga.l=1*new Date,i=e.createElement(t),s=e.getElementsByTagName(t)[0],i.async=1,i.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(i,s)}(window,document,"script",0,"ga"),ga("create","UA-37729657-1","auto"),ga("require","displayfeatures"),ga("require","linkid","linkid.js"),ga("send","pageview");